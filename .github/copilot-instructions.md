# CSharp-101 AI Guide
- **Repository scope**: Collection of self-contained .NET 9 samples. Each top-level folder (e.g., `Caching`, `Authentication`, `DesignPattern`, `CustomFilterApi`) holds an independent project with its own `README.md` describing goals and manual test flows. Use those before diving into code.
- **Solution layout**: `CSharp-101.sln` references dozens of projects. Building the whole solution is slow; prefer targeted commands like `dotnet build CustomFilterApi/CustomFilterApi.csproj`. Some projects (e.g., `UnifiedCacheSdk`, `MySimpleSdk`) use a `src/` subfolder—point `dotnet` commands at the concrete `.csproj` under `src`.
- **Shared configuration**: `Directory.Build.props` sets `TargetFramework=net9.0`, `Nullable` and `ImplicitUsings` to `enable`, and keeps `TreatWarningsAsErrors` off. New code inherits these settings—do not re-declare them per project.
- **Running samples**: Use `dotnet run --project <path-to-csproj>` instead of changing directories. Many projects expose HTTP endpoints (e.g., `CustomFilterApi`, `MinimalApiDemo`, `FluentValidationUserApi`) listening on default Kestrel ports with Swagger enabled in Development.
- **Testing**: Only a few projects currently ship tests (`OrderRuleConsole/OrderRuleConsole.Tests`). Run selectively with `dotnet test OrderRuleConsole/OrderRuleConsole.Tests/OrderRuleConsole.Tests.csproj`. If you add tests for other samples, place them beside the project or under a new `tests/` folder and wire them into the solution.
- **CustomFilterApi specifics**: Central educational sample. `Filters/LogPropertyFilter.cs` intercepts controller actions, logs `[LogProperty]`-annotated DTO members, and picks `BusinessServiceA` vs `BusinessServiceB` based on an `Age` property found in the payload, storing the selection in `ISelectedServiceAccessor` for downstream use. Honor `DisableLogPropertyAttribute` when extending the filter to keep opt-out behavior.
- **CustomFilterApi TODOs**: `todo.md` and `SERVICE_SELECTION_TODO.md` outline planned work—header-driven service selection, error-handling middleware, structured logging. Before implementing features, align with these documents so changes land where expected.
- **Service patterns**: DI registrations live in each project’s `Program.cs`. For `CustomFilterApi`, services are registered as scoped; filters needing DI must be added via `builder.Services.AddScoped<LogPropertyFilter>();` before use with `[ServiceFilter]`. Mirror this pattern when introducing new filters or policies.
- **Data and messaging samples**: Projects under `Caching`, `Kafka`, `RabbitMQ`, and `Data` often depend on local infrastructure (Redis, Kafka, RabbitMQ, MySQL, MongoDB). Their READMEs list prerequisite services and connection strings—verify these before attempting to run demos.
- **Command references**: Root `README.md` includes extensive .NET CLI cheat-sheets. Reference it for rarely used commands (creating projects, cleaning caches) instead of duplicating instructions inside sample folders.
- **Localization**: Several docs and comments are in Portuguese. Maintain existing language when editing a file; if you introduce new documentation inside a Portuguese file, continue in Portuguese unless directed otherwise.
- **Adding new samples**: Keep each sample isolated with its own `README.md`, `appsettings*.json` (if needed), and straightforward entry point. Register the project in `CSharp-101.sln` only if it builds cleanly with .NET 9 defaults.
- **Performance/debug tips**: When debugging filters or middleware, prefer `dotnet watch run --project <project>` for rapid iteration, but remember that long-running watch tasks should run in a background terminal.
- **Style conventions**: Projects rely on implicit usings and nullable reference types. Stick to idiomatic C# 12 (records, file-scoped namespaces) already present in newer samples. Keep logging structured via `ILogger` placeholders rather than string interpolation.
- **Versioning**: Assume .NET 9 SDK is available. If a sample needs a different framework, update `Directory.Build.props` carefully and confirm other projects still restore.
- **Operational checklist**: Before submitting changes, `dotnet format` isn’t enforced; instead, ensure targeted builds/tests succeed and update the relevant sample README when you add or change behaviors.
- **Terminal habits**: Paths contain spaces; in PowerShell wrap them in quotes (e.g., `dotnet run --project "c:\Users\Lucas Jorge\Documents\Default Projects\Back\CSharp-101\CustomFilterApi\CustomFilterApi.csproj"`).
- **Artifacts**: Ignore `bin/` and `obj/` outputs when inspecting diffs; rebuilds are cheap and the repo expects a clean working tree without compiled artifacts checked in.
- **Automation**: `.github/workflows` is empty; no CI will catch regressions, so run the relevant `dotnet build`/`dotnet test` commands locally before opening PRs.
- **Navigation aids**: `projects.txt` mirrors the solution structure—use it when you need quick project GUIDs or to script changes across multiple sample csproj files.
